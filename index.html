<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch API Example</title>
</head>
<body>

    <h1>Send Data Using Fetch API</h1>

    <!-- Input form for the message -->
    <textarea id="message" placeholder="Enter your message here..."></textarea><br>
    <button id="sendBtn">Send Message</button>

    <script>
        // Function to send a POST request with message data
        document.getElementById('sendBtn').addEventListener('click', function() {
            // Get the message input
            const message = document.getElementById('message').value;

            // Validate input
            if (!message) {
                alert('Please enter a message.');
                return;
            }

            // API URL (replace with your actual endpoint)
            const apiUrl = 'https://example.com/api/endpoint';

            // Prepare the data to send
            const data = { message: message };

            // Make a POST request using Fetch API
            fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',  // Ensure we're sending JSON
                    'Authorization': 'Bearer YOUR_API_KEY'  // Optional: Use if authentication is required
                },
                body: JSON.stringify(data)  // Convert the JavaScript object to a JSON string
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Request failed with status ' + response.status);
                }
                return response.json();
            })
            .then(data => {
                console.log('Response:', data);  // Handle success
                alert('Message sent successfully!');
            })
            .catch(error => {
                console.error('Error:', error);  // Handle errors
                alert('There was an error with the request.');
            });
        });
    </script>

</body>
</html>
